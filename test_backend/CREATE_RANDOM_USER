#!/bin/bash
# random-user.sh
# Creates a random user (useful for quick demos)

# Local URL of the API
#API_URL="http://localhost:8000"

# Remote URL of the API for the workshop
API_URL="http://pers-grhino001.sjcvirt.rti.com:8000"

GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

# Arrays of names and roles
FIRST_NAMES=("James" "Mary" "John" "Patricia" "Robert" "Jennifer" "Michael" "Linda" "William" "Elizabeth" "David" "Barbara" "Richard" "Susan" "Joseph" "Jessica" "Thomas" "Sarah" "Charles" "Karen")
LAST_NAMES=("Smith" "Johnson" "Williams" "Brown" "Jones" "Garcia" "Miller" "Davis" "Rodriguez" "Martinez" "Hernandez" "Lopez" "Gonzalez" "Wilson" "Anderson" "Thomas" "Taylor" "Moore" "Jackson" "Martin")
ROLES=("Developer" "Designer" "Manager" "QA Tester" "Product Owner" "DevOps Engineer" "Data Analyst" "Scrum Master")

# Select random
FIRST_NAME=${FIRST_NAMES[$RANDOM % ${#FIRST_NAMES[@]}]}
LAST_NAME=${LAST_NAMES[$RANDOM % ${#LAST_NAMES[@]}]}
ROLE=${ROLES[$RANDOM % ${#ROLES[@]}]}

# Generate unique email with timestamp
TIMESTAMP=$(date +%s)
EMAIL="${FIRST_NAME}.${LAST_NAME}.${TIMESTAMP}@example.com"

NAME="$FIRST_NAME $LAST_NAME"

echo -e "${YELLOW}ðŸŽ² Creating random user...${NC}"
echo "  Name:  $NAME"
echo "  Email: $EMAIL"
echo "  Role:  $ROLE"
echo ""

# Create user
source ./CREATE_USER "$NAME" "$EMAIL" "$ROLE"